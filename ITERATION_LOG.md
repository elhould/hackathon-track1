# Iteration Log

- 2026-01-16: Added iteration log. Reviewed conversation prompt usage (history preserved each turn; adaptation instruction present but general).
- 2026-01-16: Updated conversation system prompt with explicit adaptation rules when students are confused.
- 2026-01-16: Conversation LLM now returns JSON with tutor_message and per-turn estimated_level; estimates are logged and printed.
- 2026-01-16: Explicitly tied per-turn estimated_level to the 1–5 understanding rubric definitions.
- 2026-01-16: Switched to 5-turn diagnostic phase then 5-turn tutoring; removed per-turn numeric estimates from conversation output.
- 2026-01-16: Locked diagnostic level after turn 5 and used it for MSE predictions/logging.
- 2026-01-16: Reviewed latest conversations to refine level-inference prompt guidance.
- 2026-01-16: Tightened scoring prompt to be stricter when fundamental issues appear.
- 2026-01-16: Added self-report script to ask students for a 1–5 understanding level and submit to MSE.
- 2026-01-16: Added dev rejudge script and tightened scoring prompt gates for higher levels.
- 2026-01-16: Rejudge script now always uses diagnostic turns (locked prediction point), not end-of-conversation.
- 2026-01-16: Added rejudge prompt variants A–E and a runner to submit all variants sequentially.
- 2026-01-16: Overwrote rejudge prompts B–E with A-style rubric plus targeted diagnostic-only gates.
- 2026-01-16: Added ensemble rejudge script to average scores across multiple models.
- 2026-01-17: Centralized prompt text in `scripts/knu_prompts.py` and wired scripts to use shared prompts.
- 2026-01-17: Expanded the diagnostic Turn 1 instruction to request a longer, high-signal question block.
- 2026-01-17: Switched to 4 diagnostic turns and 6 tutoring turns; locked prediction after turn 4.
- 2026-01-17: Updated conversation tutoring instructions with level-locked teaching rules and explicit level-adjustment signals.
- 2026-01-17: Escaped JSON braces in shared prompt templates to fix format errors in scoring.
- 2026-01-17: Added parallel execution to auto-chat (default up to 10 conversations at once).
- 2026-01-17: Added parallel execution to ensemble rejudge (default up to 10 in flight).
- 2026-01-17: Added `--rounding` flag to ensemble rejudge to control average rounding.
